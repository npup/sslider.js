/**
*
* API:
*   ip.create(from, to[, options]);
*     from      - (integer) start value
*     to        - (integer) end value
*     options   - (object) options hash:
*                   duration  - (int, default 1000) duration of interpolation in ms
*                   repeats   - (boolean, default false | integer) repeat interpolation (true: forever, integer: nr of extra loops)
*                   roundtrip - (boolean, default false) if interpolation includes returning to initial value
*                   easing    - (function) interpolation easing strategy
*                   each      - (function) callback that receives the current interpolation value after each calculation
*                   update    - (function) callback that receives the current interpolation value after each calculation that results in a new value
*                   end       - (function) callback for when the interpolation ends
*
* Instance API:
*   i.start()
*   i.stop()
*   i.pause()
*   i.resume()
*
* Basic usage:
*
*   var s = ip.create(0, 100, {
*     "duration": 500
*     , "update": function (value) {
*       console.log(value);
*     }
*   });
*   s.start();
*
*/var ip;"undefined"==typeof ip&&(ip=function(){function b(a){var b=a.to;a.to=a.from,a.from=b,a.phase=a.phase!==2?2:1}function c(a){b(a),a.start()}function d(a){return a.paused?(clearInterval(a.interval),!0):!1}function e(a,b){a.curr!=b&&(a.curr=b,a.options.update(b))}function f(a){a.options.end&&a.options.end(a._firstStart)}function g(a,d){d>a.end&&(clearInterval(a.interval),a.running=!1,a.options.roundtrip&&a.phase!==2?c(a):a.wantedTrips==-1||++a.tripNr<a.wantedTrips?(a.options.roundtrip&&b(a),a.start()):f(a))}function h(a){if(d(a))return;var b=+(new Date),c=b>a.end?1:(b-a._start)/a.options.duration,f=Math.floor(a.from+(a.to-a.from)*a.options.easing(c));a.options.each&&a.options.each(f),a.options.update&&e(a,f),g(a,b)}function i(b,c,d){var e=this;"object"==typeof d||(d={});for(var f in a)f in d||(d[f]=a[f]);e.options=d,e.from=b,e.to=c,j(e)}function j(a){a._start=null,a.end=null,a.curr=null,a.interval=null,a.paused=!1,a.running=!1,delete a._firstStart,a.tripNr=0,a.wantedTrips=1;var b=a.options.repeat,c=typeof b;"boolean"==c?a.wantedTrips=b?-1:1:"number"==c&&b>0&&(a.wantedTrips=b+1)}function k(a){return a.interval=setInterval(function(){h(a)},16),a.running=!0,a}var a={duration:1e3,repeat:!1,roundtrip:!1,easing:function(a){return-Math.cos(a*Math.PI)/2+.5},each:null,update:null,end:null};return i.prototype={constructor:i,start:function(){var a=this;return a.running?a:("number"==typeof a._firstStart||(a._firstStart=+(new Date)),a._start=+(new Date),a.end=a._start+a.options.duration,k(a))},pause:function(){var a=this;return a.paused?a:(a.paused=!0,a.running=!1,a._ts=+(new Date)-a._start,a)},resume:function(){var a=this;return a.paused?(a.paused=!1,a.running=!0,a._start=+(new Date)-a._ts,a.end=a._start+a.options.duration,delete a._ts,k(a)):a},stop:function(){var a=this;if(!a.running)return;f(a),clearInterval(a.interval),j(a)}},{create:function(a,b,c){return new i(a,b,c)}}}()),function(){var a={ip:ip};(function(){var a="undefined";if(a!=typeof module&&a!=typeof module.exports&&"function"==typeof require)for(var b in this)exports[b]=this[b]}).call(a)}();